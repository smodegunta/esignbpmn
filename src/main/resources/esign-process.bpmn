<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_09rpvx0" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="2.0.3">
  <bpmn:collaboration id="Collaboration_0zms1vs">
    <bpmn:participant id="Participant_11c996g" name="Esign Handler Action" processRef="Process_1" />
  </bpmn:collaboration>
  <bpmn:process id="Process_1" name="Esign Handler" isExecutable="true">
    <bpmn:startEvent id="StartEvent_1" name="Dosclosure Event">
      <bpmn:outgoing>SequenceFlow_0nd0gi2</bpmn:outgoing>
      <bpmn:messageEventDefinition messageRef="Message_16ku3yf" />
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1885jd9" sourceRef="Task_0pjaiib" targetRef="Task_0hdv1gp" />
    <bpmn:sequenceFlow id="SequenceFlow_1ts35df" sourceRef="Task_0hdv1gp" targetRef="ExclusiveGateway_1ticttr" />
    <bpmn:endEvent id="EndEvent_1q7ueyd" name="End">
      <bpmn:incoming>SequenceFlow_1kxyj0r</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1kxyj0r" sourceRef="Task_089u44o" targetRef="EndEvent_1q7ueyd" />
    <bpmn:serviceTask id="Task_089u44o" name="Notify BSS" camunda:class="com.brimma.bpm.bpmn.NotifyBSS">
      <bpmn:incoming>SequenceFlow_12mkdx9</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1kxyj0r</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_12mkdx9" name="success" sourceRef="ExclusiveGateway_1ticttr" targetRef="Task_089u44o">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${envelopId != null}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_0nd0gi2" sourceRef="StartEvent_1" targetRef="Task_0pjaiib" />
    <bpmn:serviceTask id="Task_0pjaiib" name="Prepare Docusign Envelop" camunda:class="com.brimma.bpm.bpmn.PrepareEnvelop">
      <bpmn:incoming>SequenceFlow_0nd0gi2</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1885jd9</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_0hdv1gp" name="Send Envelop" camunda:class="com.brimma.bpm.bpmn.SendEnvelopToDocusign">
      <bpmn:incoming>SequenceFlow_1885jd9</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1ts35df</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:exclusiveGateway id="ExclusiveGateway_1ticttr">
      <bpmn:incoming>SequenceFlow_1ts35df</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_12mkdx9</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_0ohwnit</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0ohwnit" name="failure" sourceRef="ExclusiveGateway_1ticttr" targetRef="EndEvent_1inoaul">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${envelopId == null}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="EndEvent_1inoaul">
      <bpmn:incoming>SequenceFlow_0ohwnit</bpmn:incoming>
      <bpmn:errorEventDefinition errorRef="Error_1twytsc" />
    </bpmn:endEvent>
  </bpmn:process>
  <bpmn:escalation id="Escalation_1ile5f5" name="FailedSending" escalationCode="456" />
  <bpmn:message id="Message_16ku3yf" name="disclosureEvent" />
  <bpmn:error id="Error_1twytsc" name="envelop Not Sent" errorCode="503" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_0zms1vs">
      <bpmndi:BPMNShape id="Participant_11c996g_di" bpmnElement="Participant_11c996g">
        <dc:Bounds x="348" y="103" width="1064" height="278" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_1m0cwqu_di" bpmnElement="StartEvent_1">
        <dc:Bounds x="423" y="152" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="398" y="195" width="87" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0axli7e_di" bpmnElement="Task_0pjaiib">
        <dc:Bounds x="570" y="130" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1autnpj_di" bpmnElement="Task_0hdv1gp">
        <dc:Bounds x="785" y="130" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_1q7ueyd_di" bpmnElement="EndEvent_1q7ueyd">
        <dc:Bounds x="1334" y="152" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1342" y="195" width="20" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1885jd9_di" bpmnElement="SequenceFlow_1885jd9">
        <di:waypoint x="670" y="170" />
        <di:waypoint x="785" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1ts35df_di" bpmnElement="SequenceFlow_1ts35df">
        <di:waypoint x="885" y="170" />
        <di:waypoint x="990" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1kxyj0r_di" bpmnElement="SequenceFlow_1kxyj0r">
        <di:waypoint x="1263" y="170" />
        <di:waypoint x="1334" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1swybki_di" bpmnElement="Task_089u44o">
        <dc:Bounds x="1163" y="130" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_1ticttr_di" bpmnElement="ExclusiveGateway_1ticttr" isMarkerVisible="true">
        <dc:Bounds x="990" y="145" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_12mkdx9_di" bpmnElement="SequenceFlow_12mkdx9">
        <di:waypoint x="1040" y="170" />
        <di:waypoint x="1163" y="170" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1083" y="152" width="41" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0nd0gi2_di" bpmnElement="SequenceFlow_0nd0gi2">
        <di:waypoint x="459" y="170" />
        <di:waypoint x="570" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0ohwnit_di" bpmnElement="SequenceFlow_0ohwnit">
        <di:waypoint x="1015" y="195" />
        <di:waypoint x="1015" y="280" />
        <di:waypoint x="1163" y="280" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1063" y="261" width="30" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_0memxid_di" bpmnElement="EndEvent_1inoaul">
        <dc:Bounds x="1163" y="262" width="36" height="36" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
